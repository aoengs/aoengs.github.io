---
import '../styles/launchpad.css';
import LaunchpadGrid from '../components/LaunchpadGrid.astro';

// åº”ç”¨æ•°æ®
const apps = [
    { name: "å¥‡è¿¹ç§€", icon: "ğŸ¸",url:"https://www.qijishow.com/down/index.html" },
    { name: "unsplash", icon: "ğŸ" ,url:"https://unsplash.com/"},
    { name: "astro", icon: "ğŸ¦†" ,url:"https://astro.build/" },
    { name: "iconfont", icon: "ğŸ¤" ,url:"https://www.iconfont.cn/"},
    { name: "unDraw", icon: "ğŸ¥³" ,url:"https://undraw.co/"},
    { name: "ollama", icon: "ğŸ¥" ,url:"https://github.com/ollama/ollama"},
    { name: "å¾…æ›´æ–°", icon: "ğŸ§£" ,url:"https://www.qijishow.com/down/index.html"},
    { name: "å¾…æ›´æ–°", icon: "ğŸ§¶" ,url:"https://www.qijishow.com/down/index.html"},
    { name: "å¾…æ›´æ–°", icon: "ğŸ…" ,url:"https://www.qijishow.com/down/index.html"},
    { name: "å¾…æ›´æ–°", icon: "ğŸ“" ,url:"https://www.qijishow.com/down/index.html"},
    { name: "å¾…æ›´æ–°", icon: "ğŸ¤¡" ,url:"https://www.qijishow.com/down/index.html"},
    { name: "å¾…æ›´æ–°", icon: "ğŸ¶" ,url:"https://www.qijishow.com/down/index.html"},
    { name: "å¾…æ›´æ–°", icon: "ğŸ¦„" ,url:"https://www.qijishow.com/down/index.html"},
    { name: "å¾…æ›´æ–°", icon: "ğŸµ" ,url:"https://www.qijishow.com/down/index.html"},
    { name: "å¾…æ›´æ–°", icon: "ğŸ±" ,url:"https://www.qijishow.com/down/index.html"},
    { name: "å¾…æ›´æ–°", icon: "ğŸ¦‹" ,url:"https://www.qijishow.com/down/index.html"},
    { name: "å¾…æ›´æ–°", icon: "ğŸ¦" ,url:"https://www.qijishow.com/down/index.html"},
    { name: "å¾…æ›´æ–°", icon: "ğŸ¥¸" ,url:"https://www.qijishow.com/down/index.html"},
    { name: "å¾…æ›´æ–°", icon: "ğŸ¤“" ,url:"https://www.qijishow.com/down/index.html" },
    { name: "å¾…æ›´æ–°", icon: "ğŸ¤¶" ,url:"https://www.qijishow.com/down/index.html"},
    { name: "å¾…æ›´æ–°", icon: "ğŸ‘‘" ,url:"https://www.qijishow.com/down/index.html"},
    { name: "å¾…æ›´æ–°", icon: "ğŸ‘“" ,url:"https://www.qijishow.com/down/index.html"},
    { name: "å¾…æ›´æ–°", icon: "ğŸ¥½" ,url:"https://www.qijishow.com/down/index.html"},
    { name: "å¾…æ›´æ–°", icon: "ğŸ¹" ,url:"https://www.qijishow.com/down/index.html"},
    { name: "å¾…æ›´æ–°", icon: "ğŸ¦Š",url:"https://www.qijishow.com/down/index.html" },
    { name: "å¾…æ›´æ–°", icon: "ğŸ½" ,url:"https://www.qijishow.com/down/index.html"},
    { name: "å¾…æ›´æ–°", icon: "ğŸ£" ,url:"https://www.qijishow.com/down/index.html"},
    { name: "å¾…æ›´æ–°", icon: "ğŸ" ,url:"https://www.qijishow.com/down/index.html"}
];
---

<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aoengs å¯åŠ¨å°</title>
</head>
<body>
    <div class="launchpad">
        <div class="search-box">
            <input type="text" placeholder="æœç´¢åº”ç”¨" id="searchInput">
        </div>
        <LaunchpadGrid apps={apps} />
        <script id="appsData" type="application/json">{JSON.stringify(apps)}</script>
    </div>

    <script define:vars={{ apps }}>
        const originalApps = apps;
        const searchInput = document.getElementById('searchInput');
        const appGrid = document.getElementById('appGrid');
        const appsDataElement = document.getElementById('appsData');

        // æœç´¢åŠŸèƒ½
        let searchTimeout;
        searchInput.addEventListener('input', (e) => {
            clearTimeout(searchTimeout);
            searchTimeout = setTimeout(() => {
                const searchTerm = e.target.value.toLowerCase().trim();
                const filteredApps = originalApps.filter(app => 
                    app.name.toLowerCase().includes(searchTerm)
                );
                updateGrid(filteredApps);
            }, 300);
        });

        function updateGrid(apps) {
            appGrid.innerHTML = apps.map((app, index) => `
                <a href="${app.url}" 
                   target="_blank" 
                   class="app-item" 
                   style="animation: popIn 0.4s cubic-bezier(0.34, 1.56, 0.64, 1) ${index * 0.03}s forwards">
                    <div class="app-icon">${app.icon}</div>
                    <div class="app-name">${app.name}</div>
                </a>
            `).join('');
        }

        // ç‚¹å‡»åº”ç”¨æ•ˆæœ
        appGrid.addEventListener('click', (e) => {
            const appItem = e.target.closest('.app-item');
            if (appItem) {
                const icon = appItem.querySelector('.app-icon');
                icon.style.transform = 'scale(0.9)';
                setTimeout(() => {
                    icon.style.transform = '';
                }, 100);
            }
        });

        // é˜²æ­¢æœç´¢æ¡†å¤±å»ç„¦ç‚¹
        document.addEventListener('click', (e) => {
            if (!e.target.closest('.search-box')) {
                searchInput.blur();
            }
        });
    </script>
</body>
</html>